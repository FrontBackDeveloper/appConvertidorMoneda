
<div class="container">
    <h4>Espacio para compartir comentarios, aportes, recomendaciones o experiencias que sirvan a quienes usen esta aplicación </h4><br>
    <div *ngIf="isAlert" class="container alert alert-info" role="alert" >
      <p>¡ Publicado exitósamente !</p>
    </div>  
    <div class="card mb-3 bg-dark" style="max-width: 1400px;">
      <div class="row g-0">
        <div class="col-md-1">
          <img src="../../../assets/comentarios.jpg"  class="img-fluid" alt="imagen de perfil de usuario" style="max-width: 60px; border-radius: 50%;">
          
        </div>
        <div class="col-md-10">
          <div class="card-body">
            <form [formGroup]="formComentarios" (ngSubmit)="publicarComentario($event)">
              <input type="hidden" name="id_comentario" formControlName="id_comentario">
              <input type="hidden" name="id_usuario" formControlName="id_usuario">
              <input type="hidden" name="nombre_usuario" formControlName="nombre_usuario">
              <input type="hidden" name="foto_perfil" formControlName="foto_perfil">
              <div class="mb-3">
                      <textarea placeholder="Escriba aquí su comentario..." name="texto" formControlName="texto" class="form-control"
                      [ngClass]="{'is-invalid':Texto?.errors && Texto?.touched, 'is-valid': !Texto?.errors && Texto?.touched }"
                      required></textarea>
              </div>     
              <!--- MENSAJE DE ERRORES DE FORMULARIO-->          
              <div *ngIf="Texto?.touched && Texto?.errors">
               
                  <span *ngIf="Texto?.hasError('required')" class="text-danger">El campo no puede estar vacío</span>
                  <span *ngIf="Texto?.hasError('maxLength')" class="text-danger">El máximo de caracteres permitidos es 200</span>
               
              </div>
              <input type="hidden" name="fecha_publicado" formControlName="fecha_publicado">
              <div class="d-grid gap-2">
                      <button [disabled]="formComentarios.invalid" type="submit" class="btn btn-primary">Publicar</button>
                      <button routerLink="/home" class="btn btn-primary">Cancelar</button>
              </div>
          </form>
           
           
          </div>
        </div>
  </div>
 
</div>
<app-lista-comentarios></app-lista-comentarios>
